<section class="card">
  <div class="flex justify-between items-start gap-4">
    <p class="mb-2">
      {{ publication.authors }}. "{{ publication.title }}." <i> {{ publication.proceedings }}</i
      >. @if(publication.publisher){ {{ publication.publisher }}, }{{ publication.year }}.
      @if(publication.pages){ {{ publication.pages }}. }
    </p>
  </div>

  <!-- Links -->
  <section class="link-button-grid mt-3">
    @if (publication.isBestPaper){
    <div style="align-items: center; display: flex; gap: 4px">
      <span class="material-symbols-outlined link-button-icon mb-2" style="color: rgb(230, 153, 71)"
        >trophy
      </span>
      <p style="color: rgb(230, 153, 71); font-weight: bold">Best Paper</p>
    </div>

    <!-- Spacer between "Best Paper" and the links section -->
    <div class="flex-grow"></div>
    } @for(link of publication.links; track $index){
    <div class="link-button">
      <a href="{{ link.url }}" target="_blank">
        <span class="material-symbols-outlined link-button-icon"
          >@if(link.type == 'PDF'){ article}@else if (link.type == 'DOI') {open_in_new}
        </span>
        {{ link.name }}
      </a>
    </div>
    }
    <button (click)="onToggleAbstract()" class="link-button">
      <span class="material-symbols-outlined link-button-icon">
        {{ showAbstract ? 'arrow_upward' : 'arrow_downward' }} </span
      >Abstract
    </button>
  </section>
  <!-- The abstract, which should only be shown when "showAbstract" is true. -->
  <!-- overflow-hidden: Mark the div as the expandable section -->
  <!-- transition-all: animate the expand / collapse action -->
  <!-- duration-300: duration of the animation in ms -->
  <!-- ease-in-out: cause the animation to start and end slowly -->

  <!-- [style.maxHeight]: dynamic binding to maxHeight property to ensure the div refreshes when showAbstract changes. -->
  <div
    class="overflow-hidden transition-all duration-300 ease-in-out"
    [style.maxHeight]="showAbstract ? '1400px' : '0'"
  >
    <p class="mt-2 abstract rounded-lg">
      {{ publication.abstract }}
    </p>
  </div>
</section>
