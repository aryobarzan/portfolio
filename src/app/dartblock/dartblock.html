<section class="page-container content-center justify-center items-center">
  <!-- Place in the middle vertically: left-2/4 transform -translate-x-1/2 -->
  <nav
    class="fixed top-4 left-2/4 transform -translate-x-1/2 tab-bar backdrop-blur-sm rounded-full shadow-lg px-6 py-3 z-10 link-button"
  >
    <a routerLink="/" routerLinkActive="active">
      <span class="material-symbols-outlined link-button-icon">home</span> Home</a
    >
  </nav>
  <section class="container pt-20 pb-8" id="about">
    <section class="section">
      <h1>DartBlock</h1>
      <section class="text-container" id="introText">
        <p>
          Play around with the block-based programming framework <b>DartBlock</b> using the Web
          version below!<br />
          <b>Editor:</b> free-form editor.<br />
          <b>Quiz:</b> an example quiz question requiring you to compose a corresponding DartBlock
          which solves the problem.<br /><br />
        </p>
        <section class="link-button-grid" id="linkButtons">
          <div class="link-button">
            <a href="https://pub.dev/packages/dartblock_code" target="_blank">pub.dev</a>
          </div>
          <div class="link-button">
            <a href="https://github.com/aryobarzan/dartblock" target="_blank">GitHub</a>
          </div>
        </section>
        <br />
        <!-- Take up almost the entire screen width on smaller devices (phones), otherwise just 95%. -->
        <!-- We want a minimum width of 350px. -->
        <div class="smartphone-frame w-[99.0%] md:w-[95%] min-w-[350px]">
          <div class="smartphone-content">
            @if (isLoading) {
            <div class="loading-spinner">
              <div class="spinner"></div>
            </div>
            }
            <!-- "lazy" loading means only start loading the iframe when it becomes visible on the screen. -->
            <!-- Here, we integrate our DartBlock web app as an iframe. -->
            <iframe
              class="smartphone-content"
              src="assets/dartblock/index.html"
              loading="lazy"
              [class.is-hidden]="isLoading"
              (load)="onIframeLoad()"
            ></iframe>
          </div>
        </div>
      </section>
      <br />
      <p>
        <b>Technical details:</b> DartBlock has been developed using the Flutter framework for all
        major mobile and desktop platforms, though it can also be integrated within any web app as
        an iframe. However, the Web version comes with a limitation: due to Dart's lack of support
        for
        <a
          href="https://docs.flutter.dev/perf/isolates#web-platforms-and-compute"
          target="_blank"
          class="link-text"
          ><b>isolates on the Web</b></a
        >
        platform, programs are executed on the same thread on which the Flutter app itself is
        running. For more details, see the
        <a
          href="https://github.com/aryobarzan/dartblock?tab=readme-ov-file#web"
          target="_blank"
          class="link-text"
          ><b>GitHub page</b></a
        >.
      </p>
    </section>
  </section>
  <app-contact-bar></app-contact-bar>
  <button
    class="fixed bottom-4 right-4 scroll-to-top-button w-12 h-12 rounded-[24px] sm:rounded-[18px] sm:w-9 sm:h-9"
    title="Scroll to top"
    [style.opacity]="showScrollToTop ? 1 : 0"
    [style.pointerEvents]="showScrollToTop ? 'auto' : 'none'"
    (click)="scrollToTop()"
  >
    <span class="material-symbols-outlined link-button-icon">arrow_upward </span>
  </button>
</section>
<!-- Include the following such that the Home button's routerLink="/" works!-->
<router-outlet></router-outlet>
